{% extends '::base.html.twig' %}

{% set page_title = 'Dashboard' %}
{% set page_subtitle = 'Welcome to Efrito Virtual Credit Cards' %}

{% block body %}
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">Active Virtual Cards</div>

                <div class="panel-body">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th>Effective Date</th>
                            <th>Hotel</th>
                            <th>Room</th>
                            <th>Tourists</th>
                            <th>Amount</th>
                            <th>Amount on Card</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="7">No cards found</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-warning">
                <div class="panel-heading">Virtual Cards Requests</div>

                <div class="panel-body">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th>Date</th>
                            <th>Effective Date</th>
                            <th>Hotel</th>
                            <th>Room</th>
                            <th>Tourists</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>&nbsp;</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for row in vc_requests %}
                            <tr>
                                <td>{{ row.createdOn|date('d.m.Y H:i') }}</td>
                                <td>{{ row.effectiveOn|date('d.m.Y') }}</td>
                                <td>{{ row.hotel }}</td>
                                <td>{{ row.hotelRoom }}</td>
                                <td>{{ row.tourists }}</td>
                                <td>{{ row.amount|number_format }} {{ row.currency }}</td>
                                <td>N/A</td>
                                <td></td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="8">No requests found</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}